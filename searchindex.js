Search.setIndex({"alltitles": {"1. Check That Your Dataset Has the Right Format": [[14, "1.-Check-That-Your-Dataset-Has-the-Right-Format"]], "1. Download the data and pre-trained models": [[13, "1.-Download-the-data-and-pre-trained-models"]], "2. Run the notebook reproducing_figures_paper.ipynb in the notebook folder to reproduce figures of our paper.": [[13, "2.-Run-the-notebook-reproducing_figures_paper.ipynb-in-the-notebook-folder-to-reproduce-figures-of-our-paper."]], "2. Training a Model": [[14, "2.-Training-a-Model"]], "3. Inference": [[14, "3.-Inference"]], "4. Computing automatically some relevant statistics": [[14, "4.-Computing-automatically-some-relevant-statistics"]], "Applications of the method": [[8, "applications-of-the-method"]], "Challenge": [[8, "challenge"]], "Changing the set of possible features used": [[0, "changing-the-set-of-possible-features-used"]], "Description of the method": [[8, "description-of-the-method"]], "Developer": [[0, null]], "Documentation": [[5, null]], "Downloading the package": [[6, "downloading-the-package"]], "Folder Structure for Using WATRES": [[14, "Folder-Structure-for-Using-WATRES"]], "Folder Structure for Using the WATRES Package": [[12, "Folder-Structure-for-Using-the-WATRES-Package"]], "Installation": [[6, null]], "Module contents": [[1, "module-WATRES"], [2, "module-WATRES.models"], [3, "module-WATRES.models.model"]], "Prerequisites": [[6, "prerequisites"]], "Presentation of the project": [[8, null]], "References": [[9, null]], "Reproducing results of our paper": [[13, null]], "Running the model": [[14, null]], "Submodules": [[1, "submodules"], [2, "submodules"], [3, "submodules"]], "Subpackages": [[1, "subpackages"], [2, "subpackages"]], "Team": [[10, null]], "The \u201cdata\u201d folder, which contains the data and models for the various synthetic watersheds analyzed in our paper, can be downloaded from Zenodo (refer to the DOI provided in the paper).": [[12, "The-%22data%22-folder,-which-contains-the-data-and-models-for-the-various-synthetic-watersheds-analyzed-in-our-paper,-can-be-downloaded-from-Zenodo-(refer-to-the-DOI-provided-in-the-paper)."]], "Tutorials": [[11, null]], "Typical File Structure for WATRES": [[12, "Typical-File-Structure-for-WATRES"]], "WATRES": [[4, null], [7, null]], "WATRES in practice: A brief overview": [[12, null]], "WATRES package": [[1, null]], "WATRES.WATRES module": [[1, "module-WATRES.WATRES"]], "WATRES.dataset module": [[1, "module-WATRES.dataset"]], "WATRES.models package": [[2, null]], "WATRES.models.lightning_interface module": [[2, "module-WATRES.models.lightning_interface"]], "WATRES.models.model package": [[3, null]], "WATRES.models.model.basisw module": [[3, "module-WATRES.models.model.basisw"]], "WATRES.models.model.utils module": [[3, "module-WATRES.models.model.utils"]], "WATRES.models.model.w_WATRES module": [[3, "module-WATRES.models.model.w_WATRES"]], "WATRES.models.model.w_WATRES_old module": [[3, "module-WATRES.models.model.w_WATRES_old"]], "WATRES.models.model.w_age_domain module": [[3, "module-WATRES.models.model.w_age_domain"]], "WATRES.models.model.w_sum_squares_noBERT2_bayesian3 module": [[3, "watres-models-model-w-sum-squares-nobert2-bayesian3-module"]], "WATRES.models.model.w_weibull module": [[3, "module-WATRES.models.model.w_weibull"]], "WATRES.results module": [[1, "module-WATRES.results"]], "WATRES.uncertainties module": [[1, "watres-uncertainties-module"]], "WATRES.utils module": [[1, "module-WATRES.utils"]], "WATRES.visualization module": [[1, "module-WATRES.visualization"]], "conda prerequisites": [[6, "conda-prerequisites"]], "python prerequisites": [[6, "python-prerequisites"]], "\u27a1\ufe0f Run the Script: train_models.py": [[14, "\u27a1\ufe0f-Run-the-Script:-train_models.py"]]}, "docnames": ["developer/index", "documentation/WATRES", "documentation/WATRES.models", "documentation/WATRES.models.model", "documentation/modules", "index", "installation", "modules", "presentation", "references", "team", "tutorials/index", "tutorials/notebooks/overview", "tutorials/notebooks/reproducing_results", "tutorials/notebooks/running-the-model"], "envversion": {"nbsphinx": 4, "scanpydoc.definition_list_typed_field": 1, "scanpydoc.elegant_typehints": 1, "sphinx": 63, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1}, "filenames": ["developer/index.rst", "documentation/WATRES.rst", "documentation/WATRES.models.rst", "documentation/WATRES.models.model.rst", "documentation/modules.rst", "index.rst", "installation.rst", "modules.rst", "presentation.rst", "references.rst", "team.rst", "tutorials/index.rst", "tutorials/notebooks/overview.ipynb", "tutorials/notebooks/reproducing_results.ipynb", "tutorials/notebooks/running-the-model.ipynb"], "indexentries": {"agedomain (class in watres.models.model.w_age_domain)": [[3, "WATRES.models.model.w_age_domain.AgeDomain", false]], "average_by_qquantiles() (in module watres.results)": [[1, "WATRES.results.average_by_Qquantiles", false]], "basisw (class in watres.models.model.basisw)": [[3, "WATRES.models.model.basisw.BasisW", false]], "basisw (class in watres.models.model.w_watres)": [[3, "WATRES.models.model.w_WATRES.BasisW", false]], "basisw (class in watres.models.model.w_watres_old)": [[3, "WATRES.models.model.w_WATRES_old.BasisW", false]], "compute_convs() (in module watres.models.model.w_age_domain)": [[3, "WATRES.models.model.w_age_domain.compute_convs", false]], "compute_results() (watres.results.results method)": [[1, "WATRES.results.Results.compute_results", false]], "configure_optimizers() (watres.models.lightning_interface.lightningagedomain method)": [[2, "WATRES.models.lightning_interface.LightningAgeDomain.configure_optimizers", false]], "configure_optimizers() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.configure_optimizers", false]], "configure_optimizers() (watres.models.lightning_interface.lightningweibull method)": [[2, "WATRES.models.lightning_interface.LightningWeibull.configure_optimizers", false]], "create_non_linear_mesh() (watres.models.model.w_watres_old.basisw method)": [[3, "WATRES.models.model.w_WATRES_old.BasisW.create_non_linear_mesh", false]], "dataset (class in watres.dataset)": [[1, "WATRES.dataset.Dataset", false]], "datetime2year_month() (in module watres.utils)": [[1, "WATRES.utils.datetime2year_month", false]], "datetime2year_month() (watres.dataset.dataset method)": [[1, "WATRES.dataset.Dataset.datetime2year_month", false]], "fit_sin() (in module watres.utils)": [[1, "WATRES.utils.fit_sin", false]], "forward() (watres.models.lightning_interface.lightningagedomain method)": [[2, "WATRES.models.lightning_interface.LightningAgeDomain.forward", false]], "forward() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.forward", false]], "forward() (watres.models.lightning_interface.lightningweibull method)": [[2, "WATRES.models.lightning_interface.LightningWeibull.forward", false]], "forward() (watres.models.model.w_age_domain.agedomain method)": [[3, "WATRES.models.model.w_age_domain.AgeDomain.forward", false]], "forward() (watres.models.model.w_watres.watres method)": [[3, "WATRES.models.model.w_WATRES.Watres.forward", false]], "forward() (watres.models.model.w_watres_old.watres method)": [[3, "WATRES.models.model.w_WATRES_old.Watres.forward", false]], "forward() (watres.models.model.w_weibull.weibull method)": [[3, "WATRES.models.model.w_weibull.Weibull.forward", false]], "forward_w() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.forward_w", false]], "forward_w() (watres.models.lightning_interface.lightningweibull method)": [[2, "WATRES.models.lightning_interface.LightningWeibull.forward_w", false]], "forward_w() (watres.models.model.w_watres.watres method)": [[3, "WATRES.models.model.w_WATRES.Watres.forward_w", false]], "forward_w() (watres.models.model.w_watres_old.watres method)": [[3, "WATRES.models.model.w_WATRES_old.Watres.forward_w", false]], "forward_w() (watres.models.model.w_weibull.weibull method)": [[3, "WATRES.models.model.w_weibull.Weibull.forward_w", false]], "fractional_year_to_datetime() (in module watres.utils)": [[1, "WATRES.utils.fractional_year_to_datetime", false]], "gamma_pdf() (in module watres.models.model.w_watres)": [[3, "WATRES.models.model.w_WATRES.gamma_pdf", false]], "gamma_pdf() (in module watres.models.model.w_watres_old)": [[3, "WATRES.models.model.w_WATRES_old.gamma_pdf", false]], "gather_results_all_sites() (in module watres.visualization)": [[1, "WATRES.visualization.gather_results_all_sites", false]], "get_ampli() (in module watres.utils)": [[1, "WATRES.utils.get_ampli", false]], "get_clusters_time_points() (in module watres.utils)": [[1, "WATRES.utils.get_clusters_time_points", false]], "get_clusters_time_points_subsequence() (in module watres.utils)": [[1, "WATRES.utils.get_clusters_time_points_subsequence", false]], "get_colors_rainbow() (in module watres.visualization)": [[1, "WATRES.visualization.get_colors_rainbow", false]], "get_data() (watres.dataset.dataset method)": [[1, "WATRES.dataset.Dataset.get_data", false]], "get_distris() (in module watres.models.model.w_age_domain)": [[3, "WATRES.models.model.w_age_domain.get_distris", false]], "get_features() (watres.dataset.dataset method)": [[1, "WATRES.dataset.Dataset.get_features", false]], "get_names_algos() (in module watres.visualization)": [[1, "WATRES.visualization.get_names_algos", false]], "get_time_points() (watres.dataset.dataset method)": [[1, "WATRES.dataset.Dataset.get_time_points", false]], "global_average() (in module watres.results)": [[1, "WATRES.results.global_average", false]], "ifnone() (in module watres.models.model.utils)": [[3, "WATRES.models.model.utils.ifnone", false]], "init_mat_basisw() (watres.models.model.basisw.basisw method)": [[3, "WATRES.models.model.basisw.BasisW.init_mat_basisw", false]], "init_mat_basisw() (watres.models.model.w_watres.basisw method)": [[3, "WATRES.models.model.w_WATRES.BasisW.init_mat_basisw", false]], "init_mat_basisw() (watres.models.model.w_watres_old.basisw method)": [[3, "WATRES.models.model.w_WATRES_old.BasisW.init_mat_basisw", false]], "init_mat_basisw_dt() (watres.models.model.basisw.basisw method)": [[3, "WATRES.models.model.basisw.BasisW.init_mat_basisw_dT", false]], "lightningagedomain (class in watres.models.lightning_interface)": [[2, "WATRES.models.lightning_interface.LightningAgeDomain", false]], "lightningwatres (class in watres.models.lightning_interface)": [[2, "WATRES.models.lightning_interface.LightningWatres", false]], "lightningweibull (class in watres.models.lightning_interface)": [[2, "WATRES.models.lightning_interface.LightningWeibull", false]], "load_model() (watres.watres.watres method)": [[1, "WATRES.WATRES.WATRES.load_model", false]], "mixture_component() (in module watres.models.model.w_age_domain)": [[3, "WATRES.models.model.w_age_domain.mixture_component", false]], "model_estimate() (watres.results.results method)": [[1, "WATRES.results.Results.model_estimate", false]], "module": [[1, "module-WATRES", false], [1, "module-WATRES.WATRES", false], [1, "module-WATRES.dataset", false], [1, "module-WATRES.results", false], [1, "module-WATRES.utils", false], [1, "module-WATRES.visualization", false], [2, "module-WATRES.models", false], [2, "module-WATRES.models.lightning_interface", false], [3, "module-WATRES.models.model", false], [3, "module-WATRES.models.model.basisw", false], [3, "module-WATRES.models.model.utils", false], [3, "module-WATRES.models.model.w_WATRES", false], [3, "module-WATRES.models.model.w_WATRES_old", false], [3, "module-WATRES.models.model.w_age_domain", false], [3, "module-WATRES.models.model.w_weibull", false]], "random_shuffle() (in module watres.models.model.utils)": [[3, "WATRES.models.model.utils.random_shuffle", false]], "results (class in watres.results)": [[1, "WATRES.results.Results", false]], "rotate_axis0() (in module watres.models.model.utils)": [[3, "WATRES.models.model.utils.rotate_axis0", false]], "show_cout() (in module watres.visualization)": [[1, "WATRES.visualization.show_Cout", false]], "show_errors() (in module watres.visualization)": [[1, "WATRES.visualization.show_errors", false]], "show_errors_cout() (in module watres.visualization)": [[1, "WATRES.visualization.show_errors_Cout", false]], "show_errors_global_ttd() (in module watres.visualization)": [[1, "WATRES.visualization.show_errors_global_ttd", false]], "show_global_cum_ttd() (in module watres.visualization)": [[1, "WATRES.visualization.show_global_cum_ttd", false]], "show_quantile_ywf() (in module watres.visualization)": [[1, "WATRES.visualization.show_quantile_ywf", false]], "show_quantile_ywf_single_figure() (in module watres.visualization)": [[1, "WATRES.visualization.show_quantile_ywf_single_figure", false]], "show_ts_ywf() (in module watres.visualization)": [[1, "WATRES.visualization.show_TS_ywf", false]], "show_violin_ywf() (in module watres.visualization)": [[1, "WATRES.visualization.show_violin_ywf", false]], "show_ywf() (in module watres.visualization)": [[1, "WATRES.visualization.show_ywf", false]], "train() (watres.watres.watres method)": [[1, "WATRES.WATRES.WATRES.train", false]], "training_step() (watres.models.lightning_interface.lightningagedomain method)": [[2, "WATRES.models.lightning_interface.LightningAgeDomain.training_step", false]], "training_step() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.training_step", false]], "training_step() (watres.models.lightning_interface.lightningweibull method)": [[2, "WATRES.models.lightning_interface.LightningWeibull.training_step", false]], "training_step_ehs() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.training_step_EHS", false]], "training_step_w() (watres.models.lightning_interface.lightningwatres method)": [[2, "WATRES.models.lightning_interface.LightningWatres.training_step_w", false]], "transfer_weights() (in module watres.models.model.utils)": [[3, "WATRES.models.model.utils.transfer_weights", false]], "watres": [[1, "module-WATRES", false]], "watres (class in watres.models.model.w_watres)": [[3, "WATRES.models.model.w_WATRES.Watres", false]], "watres (class in watres.models.model.w_watres_old)": [[3, "WATRES.models.model.w_WATRES_old.Watres", false]], "watres (class in watres.watres)": [[1, "WATRES.WATRES.WATRES", false]], "watres.dataset": [[1, "module-WATRES.dataset", false]], "watres.models": [[2, "module-WATRES.models", false]], "watres.models.lightning_interface": [[2, "module-WATRES.models.lightning_interface", false]], "watres.models.model": [[3, "module-WATRES.models.model", false]], "watres.models.model.basisw": [[3, "module-WATRES.models.model.basisw", false]], "watres.models.model.utils": [[3, "module-WATRES.models.model.utils", false]], "watres.models.model.w_age_domain": [[3, "module-WATRES.models.model.w_age_domain", false]], "watres.models.model.w_watres": [[3, "module-WATRES.models.model.w_WATRES", false]], "watres.models.model.w_watres_old": [[3, "module-WATRES.models.model.w_WATRES_old", false]], "watres.models.model.w_weibull": [[3, "module-WATRES.models.model.w_weibull", false]], "watres.results": [[1, "module-WATRES.results", false]], "watres.utils": [[1, "module-WATRES.utils", false]], "watres.visualization": [[1, "module-WATRES.visualization", false]], "watres.watres": [[1, "module-WATRES.WATRES", false]], "weibull (class in watres.models.model.w_weibull)": [[3, "WATRES.models.model.w_weibull.Weibull", false]]}, "objects": {"": [[1, 0, 0, "-", "WATRES"]], "WATRES": [[1, 0, 0, "-", "WATRES"], [1, 0, 0, "-", "dataset"], [2, 0, 0, "-", "models"], [1, 0, 0, "-", "results"], [1, 0, 0, "-", "utils"], [1, 0, 0, "-", "visualization"]], "WATRES.WATRES": [[1, 1, 1, "", "WATRES"]], "WATRES.WATRES.WATRES": [[1, 2, 1, "", "load_model"], [1, 2, 1, "", "train"]], "WATRES.dataset": [[1, 1, 1, "", "Dataset"]], "WATRES.dataset.Dataset": [[1, 2, 1, "", "datetime2year_month"], [1, 2, 1, "", "get_data"], [1, 2, 1, "", "get_features"], [1, 2, 1, "", "get_time_points"]], "WATRES.models": [[2, 0, 0, "-", "lightning_interface"], [3, 0, 0, "-", "model"]], "WATRES.models.lightning_interface": [[2, 1, 1, "", "LightningAgeDomain"], [2, 1, 1, "", "LightningWatres"], [2, 1, 1, "", "LightningWeibull"]], "WATRES.models.lightning_interface.LightningAgeDomain": [[2, 2, 1, "", "configure_optimizers"], [2, 2, 1, "", "forward"], [2, 2, 1, "", "training_step"]], "WATRES.models.lightning_interface.LightningWatres": [[2, 2, 1, "", "configure_optimizers"], [2, 2, 1, "", "forward"], [2, 2, 1, "", "forward_w"], [2, 2, 1, "", "training_step"], [2, 2, 1, "", "training_step_EHS"], [2, 2, 1, "", "training_step_w"]], "WATRES.models.lightning_interface.LightningWeibull": [[2, 2, 1, "", "configure_optimizers"], [2, 2, 1, "", "forward"], [2, 2, 1, "", "forward_w"], [2, 2, 1, "", "training_step"]], "WATRES.models.model": [[3, 0, 0, "-", "basisw"], [3, 0, 0, "-", "utils"], [3, 0, 0, "-", "w_WATRES"], [3, 0, 0, "-", "w_WATRES_old"], [3, 0, 0, "-", "w_age_domain"], [3, 0, 0, "-", "w_weibull"]], "WATRES.models.model.basisw": [[3, 1, 1, "", "BasisW"]], "WATRES.models.model.basisw.BasisW": [[3, 2, 1, "", "init_mat_basisw"], [3, 2, 1, "", "init_mat_basisw_dT"]], "WATRES.models.model.utils": [[3, 3, 1, "", "ifnone"], [3, 3, 1, "", "random_shuffle"], [3, 3, 1, "", "rotate_axis0"], [3, 3, 1, "", "transfer_weights"]], "WATRES.models.model.w_WATRES": [[3, 1, 1, "", "BasisW"], [3, 1, 1, "", "Watres"], [3, 3, 1, "", "gamma_pdf"]], "WATRES.models.model.w_WATRES.BasisW": [[3, 2, 1, "", "init_mat_basisw"]], "WATRES.models.model.w_WATRES.Watres": [[3, 2, 1, "", "forward"], [3, 2, 1, "", "forward_w"]], "WATRES.models.model.w_WATRES_old": [[3, 1, 1, "", "BasisW"], [3, 1, 1, "", "Watres"], [3, 3, 1, "", "gamma_pdf"]], "WATRES.models.model.w_WATRES_old.BasisW": [[3, 2, 1, "", "create_non_linear_mesh"], [3, 2, 1, "", "init_mat_basisw"]], "WATRES.models.model.w_WATRES_old.Watres": [[3, 2, 1, "", "forward"], [3, 2, 1, "", "forward_w"]], "WATRES.models.model.w_age_domain": [[3, 1, 1, "", "AgeDomain"], [3, 3, 1, "", "compute_convs"], [3, 3, 1, "", "get_distris"], [3, 3, 1, "", "mixture_component"]], "WATRES.models.model.w_age_domain.AgeDomain": [[3, 2, 1, "", "forward"]], "WATRES.models.model.w_weibull": [[3, 1, 1, "", "Weibull"]], "WATRES.models.model.w_weibull.Weibull": [[3, 2, 1, "", "forward"], [3, 2, 1, "", "forward_w"]], "WATRES.results": [[1, 1, 1, "", "Results"], [1, 3, 1, "", "average_by_Qquantiles"], [1, 3, 1, "", "global_average"]], "WATRES.results.Results": [[1, 2, 1, "", "compute_results"], [1, 2, 1, "", "model_estimate"]], "WATRES.utils": [[1, 3, 1, "", "datetime2year_month"], [1, 3, 1, "", "fit_sin"], [1, 3, 1, "", "fractional_year_to_datetime"], [1, 3, 1, "", "get_ampli"], [1, 3, 1, "", "get_clusters_time_points"], [1, 3, 1, "", "get_clusters_time_points_subsequence"]], "WATRES.visualization": [[1, 3, 1, "", "gather_results_all_sites"], [1, 3, 1, "", "get_colors_rainbow"], [1, 3, 1, "", "get_names_algos"], [1, 3, 1, "", "show_Cout"], [1, 3, 1, "", "show_TS_ywf"], [1, 3, 1, "", "show_errors"], [1, 3, 1, "", "show_errors_Cout"], [1, 3, 1, "", "show_errors_global_ttd"], [1, 3, 1, "", "show_global_cum_ttd"], [1, 3, 1, "", "show_quantile_ywf"], [1, 3, 1, "", "show_quantile_ywf_single_figure"], [1, 3, 1, "", "show_violin_ywf"], [1, 3, 1, "", "show_ywf"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "terms": {"": [2, 8], "0": [1, 2, 3, 14], "001": 1, "1": [1, 2, 3], "10": [1, 3, 14], "1000": 1, "11": 9, "16": 2, "200": 1, "2020": [1, 14], "2022": 14, "2023": [1, 9], "24": [1, 14], "25920": 1, "3": [1, 6], "3000": 3, "360": 1, "365": 14, "4": 1, "400": 14, "4000": 14, "40000": 3, "43": 1, "43200": [1, 14], "43800": [2, 3], "45": 14, "47": 1, "4800": 1, "5": 1, "58": 9, "6": [2, 3], "7": 6, "80000": 3, "A": [1, 2, 8], "As": 8, "BE": 14, "But": 2, "For": [0, 2, 12], "If": [1, 2, 5, 6, 12], "In": [0, 2, 12, 14], "It": 1, "No": 1, "TO": 14, "The": [1, 2, 5, 8, 10, 11, 13], "These": 8, "To": [2, 5, 8, 12, 14], "_": 14, "__init__": 2, "__main__": 14, "__name__": 14, "_pqtrue": 1, "abil": 8, "absolut": 1, "accord": 1, "accumulate_grad_batch": 2, "achiev": 3, "across": [1, 8, 14], "activ": 6, "ad": [1, 14], "adapt": 0, "add": [0, 5], "addit": [0, 1, 2, 8], "advanc": 8, "after": [1, 2], "afterward": 3, "ag": 14, "agedomain": [1, 2, 3], "algo": [1, 14], "algo2nam": 1, "algorithm": [1, 14], "all": [1, 3, 8], "allow": [0, 3, 6, 14], "along": [6, 11], "alpha": 1, "alpha_train": 1, "also": [1, 2, 14], "although": 3, "amplitud": 1, "an": [1, 2, 6], "analysi": 1, "analyt": 8, "analyz": 13, "ani": [2, 8], "anthropogen": 8, "append": 14, "appli": 8, "applic": 1, "approach": 8, "ar": [0, 1, 2, 8, 14], "arbitrarili": 8, "arg": 2, "argument": 2, "arrai": 1, "assess": 8, "assist": 10, "associ": 2, "attribut": 1, "automat": 2, "automatic_optim": 2, "avail": [1, 2, 8], "averag": 1, "average_by_qquantil": [1, 4], "b": 3, "backward": 2, "bar": 2, "base": [1, 2, 3], "basel_large_storag": 14, "basel_small_storag": 14, "basi": 3, "basisw": [1, 2], "batch": [1, 2], "batch_idx": 2, "batch_siz": [1, 14], "been": 12, "befor": 14, "begin": 1, "behav": 8, "behavior": 8, "below": [2, 14], "benettin": [9, 10], "benettin2023": 9, "between": [1, 2, 3, 8], "bit": 2, "bool": 1, "both": 1, "calcul": 2, "call": [2, 3, 14], "callabl": 1, "callback": 2, "can": [0, 1, 2, 8, 13, 14], "care": 3, "case": [0, 2], "catchment": [8, 9], "center": [5, 10], "chang": 8, "character": [5, 8], "chat": [1, 14], "chat_train": 1, "chdir": 14, "check": 5, "checkpoint": 14, "choos": 2, "chosen": 8, "cite": 5, "cj": [2, 3], "class": [0, 1, 2, 3], "climat": 8, "clone": 6, "closur": 2, "cluster": [1, 2], "code": [0, 5], "coeffici": 1, "collect": 8, "column": 14, "com": 6, "common": 8, "complex": 8, "comput": [1, 2, 3, 12], "compute_conv": [2, 3], "compute_result": [1, 4, 12, 14], "concentr": [1, 3, 8], "condit": [2, 8], "configur": 2, "configure_optim": [1, 2], "consid": [0, 1], "consist": 8, "construct": 1, "contact": 5, "contain": [1, 2, 5, 13], "content": 4, "control": 2, "convert": 1, "convolut": 3, "correspond": [1, 2], "could": 2, "cout": [1, 2, 14], "cout_train": 1, "covari": 1, "cp": 14, "cq": 14, "creat": [3, 6, 12, 14], "create_non_linear_mesh": [2, 3], "critic": 8, "cumul": 1, "custom": 2, "d": 2, "daili": 8, "data": [1, 2, 5, 6, 8, 10, 14], "dataload": 2, "dataloader_idx": 2, "dataset": [0, 4, 12, 13], "date": [1, 14], "datetim": 1, "datetime2year_month": [1, 4], "decid": [2, 14], "decim": 14, "deciph": 8, "decod": 2, "deepspe": 2, "def": [2, 14], "default": [1, 2], "defin": [3, 8, 14], "dens": 3, "depart": 10, "depend": 1, "descript": 5, "design": 10, "detail": 5, "develop": [5, 9], "deviat": [1, 14], "devic": 3, "diagnost": 1, "dict": [1, 2], "dictionari": [1, 2], "differ": [0, 8], "direct": 9, "directli": 14, "directori": [1, 13], "discharg": [1, 14], "disk": 1, "distribut": [1, 5, 6, 8, 10, 12, 14], "dmodel": 3, "do": [1, 2], "doi": 13, "done": 1, "draw": 8, "driven": 10, "dt": 1, "duchemin": [6, 10], "due": 8, "dure": 8, "dynam": [8, 10], "e": [1, 2, 8, 14], "each": [1, 12], "eager": 5, "earth": 10, "easiest": 11, "easili": [0, 3, 8, 14], "ecosystem": 8, "eh": 3, "elaps": 1, "els": 3, "emeritu": 10, "enabl": 8, "encod": 2, "end": [1, 2], "enforc": 2, "enhanc": 8, "env": 6, "environ": 6, "environment": 10, "epfl": 10, "epoch": [1, 2, 14], "equal": [1, 14], "err": 1, "error": 1, "error_cout": 1, "error_cout_train": 1, "error_global_pq": 1, "error_global_ywf": 1, "error_quantilesq_pq": 1, "error_st": 1, "error_ywf": 1, "essenti": 8, "estim": [1, 8, 9], "evalu": 1, "evapostranspir": 6, "evapotranspir": [8, 14], "evenli": 1, "everi": [1, 2, 3], "exampl": [1, 2, 8], "exclude_head": 3, "expect": 0, "experi": 1, "explain": [13, 14], "exponenti": 3, "extens": [1, 8], "extern": [1, 8], "f": 14, "factor": 8, "fals": [1, 2, 3], "familiar": 11, "fancier": 2, "featur": [1, 5, 8], "feed": 1, "figur": 1, "file": [1, 14], "filter": [1, 14], "filter_d": [1, 14], "fine": 1, "first": 2, "fit": [0, 1, 2], "fit_sin": [1, 4], "fix": 1, "float": 1, "flow": [1, 8], "flux": 8, "follow": [1, 8, 11, 12, 14], "forecast": 14, "format": 1, "former": 3, "forward": [1, 2, 3], "forward_w": [1, 2, 3], "found": 2, "four": 14, "fraction": 1, "fractional_year": 1, "fractional_year_to_datetim": [1, 4], "freeli": 14, "frequenc": 2, "from": [1, 3, 6, 8, 13, 14], "function": [0, 1, 2, 3], "futur": 9, "g": [1, 2, 8, 14], "gamma": 3, "gamma_pdf": [2, 3], "gan": 2, "gather_results_all_sit": [1, 4], "gaussian": [1, 14], "gener": 1, "get": [11, 14], "get_ampli": [1, 4], "get_clusters_time_point": [1, 4], "get_clusters_time_points_subsequ": [1, 4], "get_colors_rainbow": [1, 4], "get_data": [1, 4], "get_distri": [2, 3], "get_featur": [0, 1, 4], "get_names_algo": [1, 4], "get_time_point": [1, 4], "get_timeyear": 1, "git": 6, "github": 6, "give": 14, "given": [1, 8], "global_averag": [1, 4], "global_pqhat": 1, "global_pqtru": 1, "goal": [5, 10], "gpu": [2, 6], "gradient": 1, "great": 3, "ground": 1, "group": [1, 5], "guid": 5, "ha": [1, 2], "handl": 2, "have": [0, 2, 6, 8, 12], "health": 8, "help": 5, "here": 2, "heterogen": 8, "histori": 10, "hook": [2, 3], "horizon": 14, "hour": 1, "hourli": 8, "how": [2, 5, 13, 14], "http": 6, "hydroglog": 8, "hydrolog": [1, 8], "hydrologi": 5, "i": [0, 1, 2, 3, 5, 6, 8, 11], "idxseh": [2, 3], "ifnon": [2, 3], "ignor": 3, "impact": 8, "implement": 0, "import": 14, "includ": [1, 2, 8], "include_concentr": 1, "inclus": 8, "incorpor": 8, "index": [1, 2], "indic": 1, "infer": 8, "infiltr": 8, "influenc": 8, "inform": [0, 5], "inher": 8, "init_mat_basisw": [2, 3], "init_mat_basisw_dt": [2, 3], "input": [1, 3, 8, 14], "input_nois": 1, "input_s": [2, 3], "input_std": 14, "input_std_": 14, "input_std_0": 14, "insid": 12, "insight": 8, "instal": 5, "instanc": [2, 3], "instead": 3, "int": 1, "interact": 8, "interest": 0, "intermedi": 1, "intern": 2, "interpret": 1, "interv": 2, "intput": 1, "introduc": 8, "invers": 3, "ipynb": 14, "iter": 2, "its": 2, "j": [2, 3], "jame": 10, "join": 14, "just": 5, "k": 1, "keep": 1, "kei": [1, 2], "kerem": 3, "keremturgutlu": 3, "keyword": 2, "kirchner": 10, "know": [2, 5], "kpq": [2, 3], "kwarg": [2, 3], "l2": 1, "lambeh": 2, "later": 1, "latter": 3, "lbfg": 2, "learn": [1, 2, 5, 8], "learningratemonitor": 2, "least": 8, "lightn": 2, "lightning_interfac": [1, 4], "lightningagedomain": [1, 2], "lightningmodul": 2, "lightningwatr": [1, 2], "lightningweibul": [1, 2], "like": [2, 14], "limit": 8, "linear": 3, "list": [1, 2, 14], "load": [1, 14], "load_model": [1, 4], "log": 2, "logger": 2, "long": 8, "look": [5, 14], "loss": 2, "lot": 14, "lr": [1, 2], "lr_schedul": 2, "lr_scheduler_config": 2, "lst": 1, "lst_test": 1, "lst_train": 1, "lugano_large_storag": 14, "lugano_small_storag": 14, "m": 1, "made": [2, 14], "mai": 0, "maintain": 5, "make": 1, "manag": [6, 8], "mani": [2, 8], "manual": [2, 3], "max": 1, "mean": [1, 2, 14], "mean_input_trac": [2, 3], "member": 10, "mesh": 3, "method": [0, 1, 2, 14], "metric": [1, 2], "metric_to_track": 2, "metric_v": 2, "miazza": 10, "might": 2, "miniconda": 6, "mixture_compon": [2, 3], "mode": [1, 2], "model": [1, 4, 8, 10], "model_bert": 14, "model_estim": [1, 4, 14], "modifi": [0, 1, 14], "modul": 4, "monitor": 2, "months_ywf": 1, "most": 14, "movement": 8, "multi": 2, "multipl": [1, 2], "multitud": 8, "must": [2, 3, 8], "mysit": 12, "n": 6, "n_end": 1, "n_start": 1, "n_test": 1, "n_train": [1, 14], "n_valid": [1, 14], "name": [1, 2, 12, 14], "name_data": 1, "nb_epoch": [1, 14], "nb_group": 1, "nbclust": 1, "ndarrai": 1, "nearest": 1, "need": [0, 1, 2, 3, 14], "network": 1, "neural": 1, "new": [0, 5, 6], "next": 2, "nice": 14, "nn": 2, "nois": [1, 14], "non": 3, "none": [1, 2, 3], "normal": [1, 2], "note": [1, 13, 14], "notebook": 14, "np": [1, 14], "nspline": 3, "number": [1, 14], "numpi": 1, "nutshel": [13, 14], "nvidia": 6, "o": [3, 14], "object": [1, 3], "observ": 14, "offset": 1, "often": 2, "omit": 1, "onc": 8, "one": [0, 1, 2, 3, 8], "ones": [1, 14], "onli": [1, 2, 8], "opt1": 2, "opt2": 2, "optim": 2, "optimizer_step": 2, "option": [1, 2], "our": [0, 5, 8, 11, 14], "out": [2, 5], "outlet": 8, "output": [1, 2, 8, 14], "output_nois": 1, "output_std": 14, "output_std_": 14, "output_std_0": 14, "overrid": 2, "overridden": 3, "own": 0, "p": [9, 14], "packag": [0, 4, 5, 8, 11, 13, 14], "panda": 1, "paolo": 10, "paper": [0, 14], "param": [1, 3], "paramet": [1, 2, 3, 14], "params_distri": 3, "parcel": 8, "part": 1, "particular": 0, "pass": [2, 3], "path": [1, 8, 14], "path_model": [1, 14], "path_root": 14, "pathdata": 1, "pathfil": 1, "pathsit": [1, 14], "pathsite_ground_truth": 1, "pave": 8, "pdf": 3, "perform": 3, "period": 14, "pet": [1, 8, 14], "phase": 1, "phd": 10, "pickl": 1, "pip": 6, "pkl": 12, "place": [0, 13], "pleas": 5, "plot": 1, "point": [1, 8, 14], "pollut": 8, "posit": 3, "possibl": 2, "potenti": [6, 8, 14], "power": [2, 3], "pq_hat": 1, "pq_ywf_eh": 2, "pqhat": 1, "pqhat_train": 1, "precipit": [1, 6, 8, 14], "precis": 2, "precomput": [1, 14], "predict": [1, 6, 8, 10, 14], "prefer": 6, "preprocess": [1, 14], "present": 5, "pretrain": [1, 14], "procedur": 1, "process": [1, 8], "produc": [2, 14], "professor": 10, "progress": 2, "project": [0, 5, 10], "properli": [12, 14], "properti": 8, "provid": [0, 1, 5, 8, 13, 14], "pth": [1, 12, 14], "public": 5, "pully_large_storag": 14, "pully_small_storag": 14, "py": 12, "pyenv": 6, "pyeto": 8, "pyreadr": 1, "pytorch": 6, "q": [1, 14], "q_test": 1, "qualiti": 8, "quantifi": 8, "quantil": 1, "quantiti": 14, "quartil": 14, "quentin": [6, 10], "r": 6, "random": [1, 14], "random_shuffl": [2, 3], "random_st": 3, "rang": 14, "rapha\u00ebl": 10, "rate": [1, 2, 3], "raw": 1, "reach": 5, "recent": [9, 14], "recip": 3, "reducelronplateau": 2, "refer": 5, "regist": 3, "relat": 1, "reli": [1, 14], "remain": 8, "repositori": [3, 6], "repres": [1, 14], "reproduc": 1, "reproducing_figures_pap": 14, "requir": [0, 1, 2, 6, 8, 14], "research": [0, 9], "resolut": [1, 8], "resourc": [8, 9], "respons": [5, 8], "result": [4, 8, 12, 14], "results_myexperiment_watr": 12, "return": [1, 2, 3, 14], "return_alpha": 3, "returnpq": 3, "revers": 3, "root": 13, "root_path": 14, "rotate_axis0": [2, 3], "round": 1, "rsto": 2, "run": [1, 2, 3, 12], "same": [1, 2, 14], "sampl": [1, 14], "save": [1, 12, 14], "save_": 14, "save_myexperiment_watr": 12, "save_training_result": 1, "scale": 3, "schedul": 2, "scienc": [5, 10], "scientist": 10, "script": 12, "sdsc": 10, "season": 1, "second": 2, "section": 0, "see": [13, 14], "seed": [1, 14], "select": 1, "self": [1, 2, 3], "self_supervis": 3, "senior": 10, "sequenc": 1, "seri": [1, 8], "set": [1, 2, 14], "sett": 14, "settings_algo": [1, 14], "shape": [3, 8], "share": 8, "should": [0, 1, 2, 3, 12, 13, 14], "show": 14, "show_cout": [1, 4], "show_error": [1, 4], "show_errors_cout": [1, 4], "show_errors_global_ttd": [1, 4], "show_global_cum_ttd": [1, 4], "show_quantile_ywf": [1, 4], "show_quantile_ywf_single_figur": [1, 4], "show_ts_ywf": [1, 4], "show_violin_ywf": [1, 4], "show_ywf": [1, 4], "shown": 2, "signific": 8, "silent": 3, "similar": [2, 14], "simpli": 2, "simplif": 8, "simul": [1, 12], "sinc": 3, "singl": 2, "sinusoid": 1, "site": [1, 8, 12, 14], "site2nam": 1, "site_ground_truth": 1, "site_nam": 14, "site_name2sav": [1, 14], "size": [1, 2, 14], "skip": 2, "soil": 8, "solut": 8, "some": 2, "someth": 2, "sort": 1, "sourc": [1, 2, 3, 6], "space": 1, "sparser": 3, "special": 2, "specif": [0, 1, 2], "specifi": [1, 2], "split": 1, "st_true": 1, "standard": [1, 14], "start": 10, "statist": [1, 12], "std_input_nois": [1, 14], "std_output_nois": [1, 14], "step": [1, 2, 3, 14], "sthat": 1, "stop": 2, "storag": [1, 8], "store": [1, 12, 14], "str": [1, 14], "streamflow": [1, 6, 8, 14], "strict": 2, "string": 1, "student": 10, "studi": 8, "subclass": 3, "subfold": [12, 14], "submodul": 4, "subpackag": 4, "subsampl": 1, "subsampling_resolut": 1, "subsurfac": 8, "suffici": 1, "sum": 1, "super": 2, "supervis": 3, "support": [1, 2, 6], "sure": [1, 6], "surfac": [8, 10], "swiss": [5, 10], "switch": 2, "sy": 14, "synthet": 13, "system": [6, 8, 10], "t": [3, 14], "take": [1, 3], "taken": [3, 8], "tar": [1, 12, 14], "task": 8, "team": 5, "techniqu": 8, "tempor": 8, "tensor": [1, 2, 3], "test": [1, 12], "them": [2, 3, 12], "therefor": 8, "thi": [0, 1, 2, 3, 8, 12, 13, 14], "thing": 2, "thu": [1, 2], "time": [1, 5, 6, 8, 9, 10, 12, 14], "time_index": 1, "timeyear": [1, 14], "tmax": [1, 2, 3, 14], "tool": 8, "topographi": 8, "torch": [1, 2], "tpu": 2, "tracer": [1, 8, 14], "train": [1, 2, 4, 8, 12], "train_model": 12, "trainf": 14, "training_step": [1, 2], "training_step_eh": [1, 2], "training_step_w": [1, 2], "transfer": 3, "transfer_weight": [2, 3], "transform": 8, "transit": [1, 5, 6, 8, 9, 10, 12, 14], "transport": 8, "travel": 8, "true": [1, 2, 3, 12], "truth": 1, "tt": 1, "ttd": [1, 8], "tupl": 2, "turgutlu": 3, "tutori": 5, "two": [2, 12, 14], "txt": [6, 12, 14], "type": [1, 3], "typic": 6, "u": 5, "unavail": 1, "uncertainti": [4, 8], "understand": 8, "uniformli": 8, "unil": [5, 10], "unit": 2, "updat": 2, "us": [1, 2, 5, 6, 8], "use_cout": 1, "use_cout4batch": 1, "use_noiseless_cj": 1, "util": [2, 4], "val_loss": 2, "valid": [1, 14], "valu": [1, 2], "variabl": 8, "variat": 8, "variou": 1, "vector": 1, "veget": 8, "veloc": 8, "version": 6, "virtualenv": 6, "visual": [4, 14], "w_age_domain": [1, 2], "w_sum_squares_nobert2_bayesian3": [1, 2], "w_summer": 1, "w_watr": [1, 2], "w_watres_old": [1, 2], "w_weibul": [1, 2], "w_winter": 1, "wa": 10, "wai": [8, 11], "want": [0, 1, 5, 14], "warn": [1, 2], "water": [1, 8, 9], "watersh": [1, 5, 6, 8, 10, 13], "watr": [0, 5, 6, 8, 10, 11], "we": [0, 1, 3, 6, 14], "weekli": 8, "weibul": [1, 2, 3], "weight": [1, 3], "weights_path": 3, "well": 1, "what": [2, 14], "whatev": 2, "when": [2, 12, 14], "where": [1, 14], "wherea": 2, "which": [1, 2, 8, 13, 14], "while": 3, "white": 14, "whose": 2, "withheld": 14, "within": [1, 3, 8], "without": 2, "work": [2, 5], "would": [1, 14], "x": [2, 3, 14], "y": 2, "year": [1, 14], "yet": 8, "you": [0, 2, 5, 6, 12, 14], "young": 1, "your": [0, 2, 5, 6], "your_personal_fold": 12, "yourself": 2, "ywfhat": 1, "ywfhat_train": 1, "yy": 1, "yyyi": 1, "z": 2, "zenodo": 13, "zero": 1, "zone": 8}, "titles": ["Developer", "WATRES package", "WATRES.models package", "WATRES.models.model package", "WATRES", "Documentation", "Installation", "WATRES", "Presentation of the project", "References", "Team", "Tutorials", "WATRES in practice: A brief overview", "Reproducing results of our paper", "Running the model"], "titleterms": {"1": [13, 14], "2": [13, 14], "3": 14, "4": 14, "A": 12, "That": 14, "The": 12, "analyz": 12, "applic": 8, "automat": 14, "basisw": 3, "brief": 12, "can": 12, "challeng": 8, "chang": 0, "check": 14, "comput": 14, "conda": 6, "contain": 12, "content": [1, 2, 3], "data": [12, 13], "dataset": [1, 14], "descript": 8, "develop": 0, "document": 5, "doi": 12, "download": [6, 12, 13], "featur": 0, "figur": 13, "file": 12, "folder": [12, 13, 14], "format": 14, "from": 12, "ha": 14, "infer": 14, "instal": 6, "ipynb": 13, "lightning_interfac": 2, "method": 8, "model": [2, 3, 12, 13, 14], "modul": [1, 2, 3], "notebook": 13, "our": [12, 13], "overview": 12, "packag": [1, 2, 3, 6, 12], "paper": [12, 13], "possibl": 0, "practic": 12, "pre": 13, "prerequisit": 6, "present": 8, "project": 8, "provid": 12, "py": 14, "python": 6, "refer": [9, 12], "relev": 14, "reproduc": 13, "reproducing_figures_pap": 13, "result": [1, 13], "right": 14, "run": [13, 14], "script": 14, "set": 0, "some": 14, "statist": 14, "structur": [12, 14], "submodul": [1, 2, 3], "subpackag": [1, 2], "synthet": 12, "team": 10, "train": [13, 14], "train_model": 14, "tutori": 11, "typic": 12, "uncertainti": 1, "us": [0, 12, 14], "util": [1, 3], "variou": 12, "visual": 1, "w_age_domain": 3, "w_sum_squares_nobert2_bayesian3": 3, "w_watr": 3, "w_watres_old": 3, "w_weibul": 3, "watersh": 12, "watr": [1, 2, 3, 4, 7, 12, 14], "which": 12, "your": 14, "zenodo": 12}})